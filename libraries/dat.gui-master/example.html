<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
  <script type="text/javascript" src="GUIinterface.js"></script>
  <script type="text/javascript" src="build/dat.gui.js"></script>
  <script type="text/javascript">
    //api documentation: https://github.com/dataarts/dat.gui/blob/master/API.md#Controller+listen
    
    var obj = {
        noiseStrength: 2,
        noiseStrength_VALUES: [1,2,7],

        maxSize: 6.0,

        text: 'Hello World',

        displayOutline: false,
        displayOutline2: true,
        
        speed: 3,
        speed_MIN: 0,
        speed_MAX: 10,

        height: 10,
        height_VALUES: { Stopped: 0, Slow: 0.1, Fast: 5, SuperFast:10},

        explode: function () {
          alert('Bang!');
        },

        color0: "#ffae23", // CSS string
        color0_IS_COLOR:true,
        color1: [ 0, 128, 255 ], // RGB array
        color1_IS_COLOR:true,

        color2: [ 0, 128, 255, 0.3 ], // RGB with alpha
        color2_IS_COLOR:true,

        color3:'rgb(100,200,0)',
        color3_IS_COLOR:true,

        color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value
    };


    let exampleInterface = true

    if(exampleInterface){
        var changeOnGui = function(change){
            console.dir(change)
        }
        //gui = new dat.GUI({guiObject:obj, callBack:changeOnGui});

        var gui = buildGuiFromObject(obj, changeOnGui)

        //if a h dimension is passed, the gui is placed inside a DIV (with scroll when needed)
        gui.setDimensions(100,100,250,250)
    } else {
        var gui = new dat.GUI();

        //gui.remember(obj);

        gui.add(obj, 'message');
        gui.add(obj, 'displayOutline').onChange((ch)=>console.log("change displayOutline", ch));
        gui.add(obj, 'displayOutline2');

        gui.add(obj, 'explode');

        gui.add(obj, 'maxSize').min(-10).max(10).step(0.25).onChange((ch)=>console.log("change maxSize", ch));
        gui.add(obj, 'height').step(5); // Increment amount

        // Choose from accepted values
        gui.add(obj, 'type', [ 'one', 'two', 'three' ] ).onChange((ch)=>console.log("change type", ch));

        // Choose from named values
        gui.add(obj, 'speed', { Stopped: 0, Slow: 0.1, Fast: 5 } );

        var f1 = gui.addFolder('Colors');
        f1.addColor(obj, 'color0');
        f1.addColor(obj, 'color1');
        f1.addColor(obj, 'color2');
        f1.addColor(obj, 'color3');

        var f2 = gui.addFolder('Another Folder');
        f2.add(obj, 'noiseStrength');

        //gui.onChange((ch)=>console.log("change", ch))
    }

  </script>
</body>
</html>
